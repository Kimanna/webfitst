<!DOCTYPE html>
<html lang="ko">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>어학원 홍보</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <link rel="stylesheet" href="images/fontello.css">


    <!-- Custom styles for this template -->
    <link href="headernav.css" rel="stylesheet">
    <link href="advertise.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body>
  <div>
  <ul class="pagination" id="paging">
</ul>
</div>
<script>

// function paging (totalData, currentPage) {
//   var dataPerPage = 10;
//   var pageCount = 5;

//   console.log("currentPage : "+currentPage);
//   console.log("totalData : "+totalData);

  
//   var totalPage = Math.ceil(totalData / dataPerPage);
//   var pageGroup = Math.ceil(currentPage / pageCount);

//   console.log("pageGroup : "+pageGroup);
//   console.log("totalPage : "+totalPage);

//   var last = pageGroup * pageCount;

  
//   if (last > totalPage) {
    
//     last = totalPage;
//   }
//   console.log("first : "+ first - 1);
  
//   var first = last - (pageCount - 1);
//   var next = last + 1;
//   var prev = fitst - 1;

//   console.log("last : "+ last);
//   console.log("fitst : "+ fitst);
//   console.log("next : "+ next);
//   console.log("prev : "+ prev);

//   if (totalPage < 1) {
//     first = last;
  
//   }

//   var pages = $("#paging");
//   pages.empty();

//   if(first > 5) {
//     pages.append ("<li class=\"pagination-item\">"+
//       "<a onclick=\"GetTarget("+(prev)+");\" style='margin-left:2px'>prev</a></li>");
//     }

//     for (var j = fitst ; j <= last ; j++ ) {
//       if ( currentPage === (j)) {
//         pages.append("<li class=\"pagination-item\">" + "<a class='active' onclick=\"GetTarget("+(j)+");\" style='margin-left:2px'>" +(j)+"</a></li>");

//       } else if (j > 0) {
//         pages.append("<li class=\"pagination-item\">" + "<a onclick=\"GetTarget("+(j)+");\" style='margin-left:2px'>" +(j)+"</a></li>");

//       }
//     }

//   if ( next > 5 && next < totalPage ) {
//     pages.append("<li class=\"pagination-item\">" + "<a onclick=\"GetTarget("+(next)+");\" style='margin-left:2px'>next</a></li>");

//   }
  

// }




function goPage(totalData, currentPage){

  // var totalPage = 1000;    // 총 데이터 수
        var dataPerPage = 5;    // 한 페이지에 나타낼 데이터 수
        var pageCount = 5;        // 한 화면에 나타낼 페이지 수
  
    console.log("currentPage : " + currentPage);
        
        var totalPage = Math.ceil(totalData/dataPerPage);    // 총 페이지 수
        var pageGroup = Math.ceil(currentPage/pageCount);    // 페이지 그룹
        
        console.log("totalPage : " + totalPage);
        console.log("pageGroup : " + pageGroup);
        var last = pageGroup * pageCount;    // 화면에 보여질 마지막 페이지 번호
        if(last > totalPage)
            last = totalPage;
        var first = last - (pageCount-1);    // 화면에 보여질 첫번째 페이지 번호
        var next = last+1;
        var prev = first-1;

        if ( totalPage < 1) {
          first = last;
        }
 
        
        console.log("last : " + last);
        console.log("first : " + first);
        console.log("next : " + next);
        console.log("prev : " + prev);

        var $pingingView = $("#paging");
        
        var html = "";
        
        if(prev > 0)
            html += "<li><a href=\"#\"><i class=\"icon-left-open-outline\"></i></a></li>";
        
        for(var i=first; i <= last; i++){

          if ( currentPage == i) {

            html += "<li><a href=\"#\" class=\"current\">" + i + "</a></li>";

          } else if ( i > 0) {
            
            html += "<li><a href=\"javascript:goPage("+ i +");\">" + i + "</a></li>";

          }
          
        }
        
        if(last < totalPage)
            html += "<li><a href=\"javascript:goPage("+ next +");\"><i class=\"icon-right-open-outline\"></i></a></li>";
            
        $("#paging").html(html);    // 페이지 목록 생성
        // $("#paging a").css("color", "black");
        $("#paging .current").css({"text-decoration":"none", 
                                           "color":"red", 
                                           "font-weight":"bold"});    // 현재 페이지 표시
                                           
        // $("#paging a").click(function(){
            
        //     var $item = $(this);
        //     var $id = $item.attr("id");
        //     var selectedPage = $item.text();
            
        //     if($id == "next")    selectedPage = next;
        //     if($id == "prev")    selectedPage = prev;
            
        //     goPage(totalData, selectedPage);
        //   });
        }
        
        
        
        $("document").ready(function(){    
          
          
          // paging (200, 2);
          goPage(60, 1);
          
});
</script>
</body>
</html>