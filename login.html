<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.1.1">
    <title>로그인</title>

<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="signin.css" rel="stylesheet">
    <link rel="stylesheet" href="find_idpw.css">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    
  </head>

  
  <body class="text-center">

    <div id="top" class="width868 login_wrap">
    <header class="dcheader" style="background-color: #3a4892;">
      <div class="dchead">
        <h1 class="dc_logo">
          <a href="index.html">
            <span style="color:white; font-size: 40px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">YA! NEODOO!</span>            
          </a>                                                                                                                                                                                                                                                                                                                                                                                                                                       
        </h1>
      </div>
    </header>
    <main id="container">
      <form class="form-signin"  role="form" autocomplete="off" method="post">
          <img class="mb-4" src="/images/thumb01.jpg" alt="" width="100%" height="230">
          <h1 class="h3 mt-3 mb-3 font-weight-normal">로그인</h1>
        
          <!-- <label for="inputEmail" class="sr-only">Email address</label> -->
            <input type="text" name="id" id="inputEmail" class="form-control" placeholder="ID">
        
            <!-- <label for="inputPassword" class="sr-only">Password</label> -->
          <input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password">
          <span id="error_next_box"></span>
          
          <div class="checkbox mb-3">
              <label for="remember_me">
                <input type="checkbox" name="check" id="remember-me"> 아이디/비밀번호 기억
              </label>
            </div>
              <button class="btn btn-lg btn-primary btn-block" type="button" onclick="loginbt();">Sign in</button>
            <div>  
        </div>  
        <div class="options">
          <a href="newid.html">회원가입</a>
          <a href="find_id.html" class="find_id">아이디 찾기</a>
          <a href="find_pw.html" class="find_pw">비밀번호 찾기</a>
        </div>
      </form>
    </main>
    <footer class="blog-footer">
      <p>Copyright ⓒ 2020 - 2021 어학연수모임. All rights reserved.</p>
      <p>이메일 : <a href="https://getbootstrap.com/">kan12888@gmail.com</a></p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>
    </div>
    <script>

      $(window).ready(function() {

        // if (getCookie("autouserId")) {

        //   $("input:checkbox[name=check]").is(":checked") == true
        //   $("#remember-me").prop("checked", true);
           
        // }


        
        displayCookie();

      });

      // function displayCookie() {
      //   var txtName = "";
      //   // 쿠키 여부 확인
      //   if (document.cookie != "") {
      //       //alert(document.cookie);  // txtName=red;
      //       txtName = document.cookie.split("=")[1];
      //   }
      //   document.getElementById("inputEmail").value = txtName;
      // }

          // 쿠키 읽어오는 함수
    function displayCookie() {
        var txtName = "";

        // 쿠키 여부 확인
        if (document.cookie != "") {
            
          
            // 여러개의 쿠키 읽어오기
            var cookies = document.cookie.split("; ");

            // 쿠키 개수만큼 반복
            for (var i=0; i<cookies.length; i++) {


                if (cookies[i].split("=")[0] == "autouserId")  {
                    // alheert(document.cookie);  // txtName=red;
                    txtName = cookies[i].split("=")[1];            
                }
            }
        }
        document.getElementById("inputEmail").value = txtName;
    }


      
      
      function getCookie(name) {
        let matches = document.cookie.match(new RegExp(
          "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
        ));
        return matches ? decodeURIComponent(matches[1]) : undefined;
      }


      
        var inputEmail = document.getElementById('inputEmail');
        var inputPassword = document.getElementById('inputPassword');

        var remember_me = document.querySelector('#remember-me');
        var error = document.getElementById("error_next_box");


        // inputEmail.addEventListener("focusout", checkId);
        // inputPassword.addEventListener("focusout", checkPw);

        function checkId () {
          if(inputEmail.value == "") {
            error.innerHTML = "ID 를 입력해 주세요";
            error.style.display = "block";
            error.style.color = "red";
            return false;

          } else {
            error.style.display = "none";
            return true;
          }

        }

          function checkPw() {
            if(inputPassword.value == "") {
              error.innerHTML = "PW 를 입력해 주세요";
              error.style.display = "block";
              error.style.color = "red";
              error.style.marginBottom = "10px";
              return false;

            } else {
              error.style.display = "none";
              return true;

            }

          }

         
    function loginbt() {

        var formObj = $(".form-signin");

        console.log(formObj);
        // var formObj2 = $("form[role='form']");

        // console.log(formObj2);

          if (checkId() == true && checkPw() == true) {

            if ($("input:checkbox[name=check]").is(":checked") == true) {

              var mode ='<input type="hidden" name="checkbox" value="true"/>';

              console.log(remember_me); 


            } else {
                  //체크가 안되어있을때.

              var mode ='<input type="hidden" name="checkbox" value="false"/>';
              
              console.log("notcheck"); 

            }


            formObj.attr("action", "signin.php");
            formObj.append(mode);
            formObj.submit();

          }

    }


    </script>

  </body>
</html>
